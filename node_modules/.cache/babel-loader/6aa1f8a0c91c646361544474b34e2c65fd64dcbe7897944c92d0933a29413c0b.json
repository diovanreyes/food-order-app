{"ast":null,"code":"import _slicedToArray from\"C:/Users/Admin/Desktop/UPLOADED/FOOD-ORDER-APP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"C:/Users/Admin/Desktop/UPLOADED/FOOD-ORDER-APP/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/Admin/Desktop/UPLOADED/FOOD-ORDER-APP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useReducer}from\"react\";import CartContext from\"./cart-context\";import{jsx as _jsx}from\"react/jsx-runtime\";var ACTIONS={ADD_ITEM:\"ADD_ITEM\",REMOVE_ITEM:\"REMOVE_ITEM\",CLEAR_ITEM:\"CLEAR_ITEM\"};var defaultCartState={items:[],totalAmount:0};var cartReducer=function cartReducer(state,action){switch(action.type){case ACTIONS.ADD_ITEM:{var totalAmount=state.totalAmount+action.payload.amount*action.payload.price;var cartItemIndex=state.items.findIndex(function(item){return item.id===action.payload.id;});var currentItem=state.items[cartItemIndex];var updatedItems;if(currentItem){var updatedItem=_objectSpread(_objectSpread({},currentItem),{},{amount:currentItem.amount+action.payload.amount});updatedItems=_toConsumableArray(state.items);updatedItems[cartItemIndex]=updatedItem;}else{updatedItems=[].concat(_toConsumableArray(state.items),[action.payload]);}return{items:updatedItems,totalAmount:totalAmount};}case ACTIONS.REMOVE_ITEM:{var _cartItemIndex=state.items.findIndex(function(item){return item.id===action.payload;});var _currentItem=state.items[_cartItemIndex];var updatedTotalAmount=state.totalAmount-_currentItem.price;var _updatedItems;if(_currentItem.amount===1){_updatedItems=state.items.filter(function(item){return item.id!==action.payload;});}else{var _updatedItem=_objectSpread(_objectSpread({},_currentItem),{},{amount:_currentItem.amount-1});_updatedItems=_toConsumableArray(state.items);_updatedItems[_cartItemIndex]=_updatedItem;}return{items:_updatedItems,totalAmount:updatedTotalAmount};}case ACTIONS.CLEAR_ITEM:{return defaultCartState;}default:return defaultCartState;}};var CartProvider=function CartProvider(props){var _useReducer=useReducer(cartReducer,defaultCartState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var addCartItemHandler=function addCartItemHandler(item){dispatch({type:ACTIONS.ADD_ITEM,payload:item});};var delCartItemHandler=function delCartItemHandler(id){dispatch({type:ACTIONS.REMOVE_ITEM,payload:id});};var clearItemHandler=function clearItemHandler(){dispatch({type:ACTIONS.CLEAR_ITEM});};var cartContext={items:state.items,totalAmount:state.totalAmount,addItem:addCartItemHandler,delItem:delCartItemHandler,clearItem:clearItemHandler};return/*#__PURE__*/_jsx(CartContext.Provider,{value:cartContext,children:props.children});};export default CartProvider;","map":{"version":3,"names":["React","useReducer","CartContext","jsx","_jsx","ACTIONS","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEM","defaultCartState","items","totalAmount","cartReducer","state","action","type","payload","amount","price","cartItemIndex","findIndex","item","id","currentItem","updatedItems","updatedItem","_objectSpread","_toConsumableArray","concat","updatedTotalAmount","filter","CartProvider","props","_useReducer","_useReducer2","_slicedToArray","dispatch","addCartItemHandler","delCartItemHandler","clearItemHandler","cartContext","addItem","delItem","clearItem","Provider","value","children"],"sources":["C:/Users/Admin/Desktop/UPLOADED/FOOD-ORDER-APP/src/store/CartProvider.js"],"sourcesContent":["import React, { useReducer } from \"react\";\r\nimport CartContext from \"./cart-context\";\r\n\r\nconst ACTIONS = {\r\n  ADD_ITEM: \"ADD_ITEM\",\r\n  REMOVE_ITEM: \"REMOVE_ITEM\",\r\n  CLEAR_ITEM: \"CLEAR_ITEM\"\r\n};\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n\r\nconst cartReducer = function (state, action) {\r\n  switch (action.type) {\r\n    case ACTIONS.ADD_ITEM: {\r\n      const totalAmount =\r\n        state.totalAmount + action.payload.amount * action.payload.price;\r\n\r\n      const cartItemIndex = state.items.findIndex(\r\n        (item) => item.id === action.payload.id\r\n      );\r\n\r\n      const currentItem = state.items[cartItemIndex];\r\n\r\n      let updatedItems;\r\n\r\n      if (currentItem) {\r\n        const updatedItem = {\r\n          ...currentItem,\r\n          amount: currentItem.amount + action.payload.amount,\r\n        };\r\n        updatedItems = [...state.items];\r\n        updatedItems[cartItemIndex] = updatedItem;\r\n      } else {\r\n        updatedItems = [...state.items, action.payload];\r\n      }\r\n\r\n      return {\r\n        items: updatedItems,\r\n        totalAmount: totalAmount,\r\n      };\r\n    }\r\n    case ACTIONS.REMOVE_ITEM: {\r\n      const cartItemIndex = state.items.findIndex(\r\n        (item) => item.id === action.payload\r\n      );\r\n      const currentItem = state.items[cartItemIndex];\r\n      const updatedTotalAmount = state.totalAmount - currentItem.price;\r\n      let updatedItems;\r\n      if (currentItem.amount === 1) {\r\n        updatedItems = state.items.filter((item) => item.id !== action.payload);\r\n      } else {\r\n        const updatedItem = { ...currentItem, amount: currentItem.amount - 1 };\r\n        updatedItems = [...state.items];\r\n        updatedItems[cartItemIndex] = updatedItem;\r\n      }\r\n      return {\r\n        items: updatedItems,\r\n        totalAmount: updatedTotalAmount,\r\n      };\r\n    }\r\n    case ACTIONS.CLEAR_ITEM: {\r\n      return defaultCartState;\r\n    }\r\n    default:\r\n      return defaultCartState;\r\n  }\r\n};\r\n\r\nconst CartProvider = (props) => {\r\n  const [state, dispatch] = useReducer(cartReducer, defaultCartState);\r\n\r\n  const addCartItemHandler = function (item) {\r\n    dispatch({ type: ACTIONS.ADD_ITEM, payload: item });\r\n  };\r\n\r\n  const delCartItemHandler = function (id) {\r\n    dispatch({ type: ACTIONS.REMOVE_ITEM, payload: id });\r\n  };\r\n\r\n  const clearItemHandler = function () {\r\n    dispatch({type: ACTIONS.CLEAR_ITEM})\r\n  }\r\n\r\n  const cartContext = {\r\n    items: state.items,\r\n    totalAmount: state.totalAmount,\r\n    addItem: addCartItemHandler,\r\n    delItem: delCartItemHandler,\r\n    clearItem: clearItemHandler,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}